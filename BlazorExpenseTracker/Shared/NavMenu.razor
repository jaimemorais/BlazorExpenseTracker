@using BlazorExpenseTracker.Services.Auth;
@inject AuthenticationStateProvider _authenticationStateProvider
@inject NavigationManager _navigationManager


<AuthorizeView>
    <Authorized>

        <MudNavMenu>
            <MudNavLink Href="/" Match="NavLinkMatch.All">Home</MudNavLink>
            <MudNavLink Href="/addExpense">Add Expense</MudNavLink>    
            <MudNavLink Href="/listExpenses">View Expenses</MudNavLink>
            <MudNavLink Href="/listExpensesReport">Report</MudNavLink>
            <MudButton OnClick="Logout" style="padding-left:25px;">Logout</MudButton>        
        </MudNavMenu>

    </Authorized>
</AuthorizeView>




@code {

    private async Task Logout()
    {
        var expTrackerAuthStateProvider = (ExpTrackerAuthenticationStateProvider)_authenticationStateProvider;
        await expTrackerAuthStateProvider.UpdateAuthenticationState(null);
        _navigationManager.NavigateTo("/", true);
    }
}
